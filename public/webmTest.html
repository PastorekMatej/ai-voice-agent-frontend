<!DOCTYPE html>
<html>
<head>
    <title>Test WebM</title>
</head>
<body>
    <h2>Test WebM</h2>
    <video controls width="400" id="testVideo">
        <source src="/videos/idle.webm" type="video/webm" />
        <source src="/videos/idle.mp4" type="video/mp4" />
        Vidéo non supportée
    </video>

    <div id="info"></div>

    <script>
        const video = document.getElementById('testVideo');
        const info = document.getElementById('info');

        function log(msg) {
            info.innerHTML += msg + '<br>';
            console.log(msg);
        }

        log('Support WebM: ' + video.canPlayType('video/webm'));
        log('Support MP4: ' + video.canPlayType('video/mp4'));

        video.addEventListener('loadstart', () => log('Chargement démarré'));
        video.addEventListener('loadeddata', () => log('Données chargées'));
        video.addEventListener('error', () => log('Erreur: ' + video.error.message));
    </script>
</body>
</html> 